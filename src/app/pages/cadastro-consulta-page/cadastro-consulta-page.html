<app-header-pattern></app-header-pattern>
<div class="p-6 bg-gradient-to-br from-blue-50 to-gray-100 min-h-screen">
  <h1 class="text-3xl font-bold text-blue-800 mb-6 border-b pb-2 text-center">Agendar Consulta</h1>

  <form [formGroup]="cadastroForm" (ngSubmit)="cadastrarConsulta()"
    class="bg-white p-6 rounded-xl shadow-md max-w-xl mx-auto space-y-6">
    <!-- M√©dico -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Escolha o m√©dico</label>
      <select formControlName="medico_id" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
        <option value="#">Selecione uma op√ß√£o</option>
        <option *ngFor="let medico of medicos" [value]="medico.id">Dr. {{ medico.nome }}</option>
      </select>
    </div>

    <!-- Agenda -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Escolha o hor√°rio</label>
      <select formControlName="agenda_id" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500">
        <option value="#">Selecione uma op√ß√£o</option>
        <option *ngFor="let horario of horariosDisponiveis" [value]="horario.id">
          {{ horario.horaInicio }} √†s {{ horario.horaFim }} - Data: {{horario.dataAgenda | date:'dd/MM/yyyy'}}
        </option>
      </select>
    </div>

    <!-- Observa√ß√£o -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Observa√ß√£o</label>
      <textarea formControlName="observacao" rows="4"
        class="w-full p-3 border rounded resize-none focus:ring-2 focus:ring-blue-500"
        placeholder="Descreva o motivo da consulta..."></textarea>
    </div>

    <!-- Inputs ocultos -->
    <input type="hidden" name="paciente_id" [value]="pacienteId" />

    <!-- Bot√£o -->
    <div class="flex justify-center">
      <button type="submit"
        class="bg-blue-600 text-white px-5 py-2 rounded-xl hover:bg-blue-700 transition inline-flex items-center gap-2">
        üìÖ Confirmar Agendamento
      </button>
    </div>
  </form>
</div>